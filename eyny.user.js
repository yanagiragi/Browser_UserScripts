// ==UserScript==
// @name        Eyny
// @namespace   Yr
// @include     http://*.eyny.com/index.php
// @include     http://*.eyny.com/
// @include     https://*.eyny.com/index.php
// @require     https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js
// @version     2.5
// @grant       none
// @description Simple Enhanced Feature of eyny.com
// ==/UserScript==

// Purpose : with entering "eyny.com", you will grant
// 1. new url with www****.eyny.com, to avoid imgur.com blocking www**.eyny.com
// 2. Already agreeed you are over 18 years old :)
// 3. No longer access homepage twice if you're trying to access some forums

// Your Settings here
const exclude = ['22']

// Global Variables
const $ = jQuery.noConflict(true);
const seed = Math.floor(Math.random() * 1000 + 1000)

async function GetForumIDDynamic() {
    const container = {}
    function getData(ajaxurl) {
        return $.ajax({
            url: ajaxurl,
            type: 'GET',
        })
    }

    const res = await getData('http://www10.eyny.com/forum.php?view=all')
    const linkEntries = Object.values($('[href]', $.parseHTML(res)))

    for (let i = 0; i < linkEntries.length; ++i) {
        if (typeof linkEntries[i] == 'undefined' || typeof linkEntries[i].href == 'undefined') { continue }
        const href = linkEntries[i].href
        const html = linkEntries[i].innerHTML
        if (href.match(/forum((-.)|(\.php\?((view=all)|(mod=forumdisplay\&fid))))/)) {
            container[html] = href
        }
    }

    // output for debug
    console.log(JSON.stringify(container, null, 4))
    return container
}

// hard coded forumID, because ajax is slow!
function GetForumIDStatic() {
    return {
        "時事": "1724",
        "生活": "68",
        "投票": "3181",
        "電影": "205",
        "籃球": "365",
        "星座": "56",
        "有趣": "1760",
        "食戟": "4138",
        "吹水聊天室": "27",
        "歷史回憶區": "1831",
        "網友交友區": "88",
        "靈異鬼故事": "30",
        "UFO及超自然力量": "491",
        "血腥嘔心區": "1830",
        "生活百科及冷知識": "68",
        "健康資訊": "411",
        "IQ題猜迷語": "102",
        "趣味笑話區": "54",
        "限制級笑話區": "296",
        "性教育專區": "210",
        "布袋戲討論": "1609",
        "布袋戲貼圖": "1611",
        "布袋戲下載": "1610",
        "詩詞文學創作區&amp;綜合區": "1792",
        "知識問與答": "1723",
        "當兵生活趣談": "1758",
        "海外生活": "1763",
        "活動中心": "2037",
        "投票中心": "3181",
        "其他興趣討論": "1721",
        "模型和玩具": "152",
        "魔術討論區": "244",
        "攝影交流": "383",
        "卡牌交流": "381",
        "遊戲王": "2006",
        "CARDDAS TCG交流區": "493",
        "武士道TCG交流區": "494",
        "魔獸世界": "2021",
        "MTG": "2022",
        "棋藝交流": "382",
        "中國象棋": "495",
        "國際象棋": "496",
        "圍棋": "497",
        "釣魚交流": "455",
        "天文地理交流": "442",
        "War Games 交流": "456",
        "紙藝小築/摺紙手工": "502",
        "風水玄學及掌相命理": "468",
        "園藝交流": "499",
        "巴士迷專區": "500",
        "舞蹈交流": "498",
        "機車交流": "501",
        "機車貼圖": "507",
        "藝術及繪畫": "504",
        "汽車交流": "505",
        "汽車貼圖": "49",
        "會員寫作專欄": "470",
        "大學生活交流": "363",
        "中學生活交流": "162",
        "小學生活交流": "364",
        "各類考試討論": "362",
        "中國文學": "408",
        "科學討論": "407",
        "哲學討論": "358",
        "心靈小品 (短篇)": "89",
        "好書推介及閱讀感想": "409",
        "歷史討論": "149",
        "宗教討論": "221",
        "藝術交流": "508",
        "日本文化": "522",
        "英語學習坊": "1730",
        "留學遊學交流": "1757",
        "神話傳說": "1759",
        "旅遊風光相簿": "202",
        "旅遊經驗交流": "512",
        "世界遊樂園討論區": "419",
        "中國/澳門/台灣": "513",
        "日本/韓國": "514",
        "歐洲/美洲/非洲/其他": "515",
        "東南亞/澳洲/紐西蘭": "516",
        "美味食譜": "191",
        "食店及飲食討論": "517",
        "健康飲食": "518",
        "廚藝烹飪": "519",
        "世界美食討論": "1729",
        "零食討論": "1728",
        "品茶茶藝": "1727",
        "咖啡": "1726",
        "紅酒白酒及其他酒類": "1725",
        "婚姻大事": "509",
        "家居佈置": "510",
        "置業租屋": "511",
        "育兒父母區": "427",
        "寶貝BB貼圖": "1756",
        "家庭生活": "1717",
        "家事傾訴": "1718",
        "電玩單機遊戲情報討論": "209",
        "minecraft(當個創世神)": "3336",
        "戰慄時空之絕對武力(CS)": "86",
        "CS相關資源分享區": "1809",
        "榮耀戰魂": "4291",
        "NEKOPARA": "4292",
        "看門狗 Watch Dogs": "4202",
        "湯姆克蘭西：全境封鎖": "4095",
        "上古卷軸 系列(The Elder Scrolls)": "3279",
        "東方project": "1823",
        "H-game討論區": "1946",
        "AVG成人遊戲": "4041",
        "H-game回憶錄": "4040",
        "戀姬系列版": "1877",
        "Muv-Luv": "4043",
        "大富翁遊戲系列": "2018",
        "超次元戰記●戰機少女": "4042",
        "RPG製作大師": "4044",
        "策略模擬遊戲": "1939",
        "模擬市民大會廳": "1714",
        "世紀帝國系列": "136",
        "SPORE": "1712",
        "三國志系列": "1967",
        "英雄連隊系列": "1920",
        "信長之野望系列": "1968",
        "紅色警戒系列": "1785",
        "星海爭霸": "1912",
        "大(萌)戰略 系列": "2015",
        "工人物語": "2014",
        "模擬城市": "2013",
        "幕府將軍": "3318",
        "輕Gal Game": "1938",
        "奈須系列(Type Moon)": "1881",
        "Key社遊戲": "2017",
        "5pb.遊戲系列專區": "4096",
        "sprite&amp;fairys系列": "1882",
        "秋之回憶": "1981",
        "射擊競技遊戲": "1940",
        "惡靈勢力（Left 4 Dead）": "1784",
        "榮譽勳章系列": "1900",
        "Call of Duty 決勝時刻系列": "1962",
        "Battlefield 戰地風雲系列": "1960",
        "CRYSIS 末日之戰系列": "1959",
        "角色扮演遊戲": "1941",
        "仙劍奇俠傳系列": "1943",
        "風色幻想系列": "1944",
        "軒轅劍系列": "1965",
        "霹靂 系列": "1713",
        "英雄傳說系列": "1715",
        "伊蘇系列": "1966",
        "幻想三國誌系列": "1711",
        "古劍奇譚": "1984",
        "異塵餘生": "3328",
        "運動/競速遊戲": "1942",
        "EA SPORT": "1915",
        "極速快感系列": "1969",
        "NBA 2K series系列": "3455",
        "格鬥技術遊戲": "1987",
        "格鬥天王/拳皇": "1988",
        "冒險/動作遊戲": "2008",
        "俠盜獵車手": "1986",
        "刺客教條": "2010",
        "騎馬與砍殺": "3335",
        "蒼翼默示錄BLAZBLUE": "3333",
        "音速小子": "1985",
        "原型兵器（Prototype）": "1824",
        "魔獸爭霸系列": "273",
        "真三國無雙討論區": "324",
        "信長之野望討論區": "323",
        "Dota系列": "1963",
        "地圖編輯研究": "422",
        "音樂節奏遊戲": "2011",
        "osu!": "1945",
        "StepMania": "3456",
        "太鼓之達人": "4045",
        "PC GAME 歷史回憶區": "2007",
        "電腦單機遊戲相關討論": "384",
        "撕裂重罪hinokakera": "1989",
        "質感賽車": "3331",
        "07th Expansion系列": "2016",
        "美國陸軍系列（America's Army）": "1961",
        "黑暗領域": "3322",
        "永遠的毀滅公爵": "3324",
        "絕命異次元": "1990",
        "重裝武力": "3323",
        "魔法門之英雄無敵": "3319",
        "海商王": "3320",
        "冰與火之歌": "3321",
        "神鬼寓言": "3337",
        "末日危城": "3330",
        "質量效應": "3327",
        "大地王國": "3329",
        "東京山手BOYS": "2009",
        "波斯王子": "3334",
        "死亡之島": "3332",
        "電視遊樂器相關討論": "387",
        "任天堂 Switch": "4290",
        "Wii U 遊戲討論": "1701",
        "Wii遊戲及軟件分享": "1947",
        "Xbox 360 遊戲討論": "1702",
        "PS4 / PlayStation4": "388",
        "PS 遊戲及軟件分享": "533",
        "PSV/ PlayStation Vita": "4135",
        "PSP / PlayStation Portable": "385",
        "PSP 遊戲及軟件分享": "534",
        "NDS / Nintendo DS": "386",
        "NDS 遊戲級軟件分享": "535",
        "iPod / iPhone 綜合遊戲": "1950",
        "ARPG無雙系列": "1973",
        "真。三國無雙系列": "1704",
        "戰國 BASARA 系列": "1948",
        "戰國無雙系列": "1975",
        "無雙OROCHI系列": "1976",
        "鋼彈無雙系列": "1974",
        "俠盜獵車手(GTA)": "3915",
        "惡靈古堡系列": "1971",
        "神奇寶貝": "1709",
        "魔物獵人(M.H.)": "1703",
        "惡魔獵人": "1707",
        "時空幻境 系列": "1705",
        "遊戲王系列": "1993",
        "TV GAME 歷史回憶區": "3916",
        "太空戰士Final Fantasy": "1706",
        "快打旋風 系列": "1810",
        "七龍珠系列": "1992",
        "變形金剛": "1825",
        "勇者鬥惡龍系列": "1878",
        "NBA 2K series": "1893",
        "但丁的地獄之旅": "1901",
        "戰場女武神": "1995",
        "鋼彈系列": "1972",
        "三國志大戰": "1991",
        "超級機器人大戰 系列": "1708",
        "戰鼓PATAPON": "2019",
        "牧場物語": "2020",
        "街機遊戲討論": "188",
        "掌機遊戲討論": "1949",
        "蘿球社": "2024",
        "閃電十一人": "1994",
        "英雄聯盟League of Legends": "1970",
        "暴雪英霸": "3887",
        "暗黑破壞神3：奪魂之鐮": "1710",
        "黑色沙漠 BLACK DESERT": "4259",
        "救世主之樹 Tree of Savior": "3969",
        "鬥陣特攻 Overwatch": "4128",
        "DMM綜合遊戲": "3311",
        "艦隊 Collection": "3698",
        "成人向遊戲專區": "3971",
        "新楓之谷 Online": "1692",
        "流亡黯道 Path of Exile": "3503",
        "A.V.A 戰地之王 Revo": "1999",
        "天堂 Lineage系列": "113",
        "天堂貼圖": "1671",
        "戰艦世界World of Warships": "3908",
        "CS Online(絕對武力)": "1786",
        "艾爾之光": "1905",
        "爐石戰記：魔獸英雄傳": "3702",
        "仙境傳說RO系列": "31",
        "魔獸世界 WOW": "294",
        "戰車世界 World of Tanks": "3573",
        "劍靈Blade &amp; Soul": "3304",
        "新瑪奇英雄傳": "3306",
        "全民打棒球 2": "1633",
        "球隊資料專區": "2025",
        "Pixiv角色創作專區": "3505",
        "艦隊提督鎮守府創作區": "3909",
        "角色扮演類〈MMORPG〉": "3910",
        "誅仙 Online": "1693",
        "武林群俠傳 Online": "1694",
        "精靈樂章 Online": "1782",
        "希望戀曲Online": "1922",
        "LUNA系列 Online": "1778",
        "風色幻想IF online": "1883",
        "拉普拉斯的神子": "4052",
        "AION 永恆紀元": "1827",
        "聖境傳說Online": "1996",
        "晴空物語 Online": "2028",
        "狩龍戰紀": "3742",
        "星界神話": "3888",
        "夢幻之星2 Online": "3701",
        "石器時代": "2032",
        "RF Online": "1916",
        "天子傳奇 Online": "1951",
        "參天律": "3572",
        "夢幻龍族傳說": "1818",
        "仙劍online": "1821",
        "吞食天地 3 Online": "3278",
        "神魔Online": "1997",
        "新龍之谷 Dragon Nest": "1979",
        "三國群英傳Online": "1886",
        "SF Online": "1829",
        "魔物獵人Frontier G": "1897",
        "名將列傳": "3305",
        "魔力寶貝": "1820",
        "新瑪奇 Mabinogi": "257",
        "Unlight": "3310",
        "劍俠情緣3 Online": "3282",
        "手機/平板遊戲情報特搜": "3889",
        "網路遊戲情報討論區": "139",
        "神魔之塔": "3577",
        "戰姬絕唱シンフォギア": "4338",
        "從零開始的魔法書": "4314",
        "闇影詩章(Shadowverse)": "4315",
        "龍族拼圖 Puzzle &amp; Dragons": "3578",
        "Pokemon GO": "4156",
        "白貓Project": "3818",
        "碧藍幻想": "4293",
        "幻想神域(手遊)": "3575",
        "偶像大師灰姑娘女孩": "4203",
        "刀塔傳奇": "3776",
        "陰陽師 Onmyoji": "4261",
        "少女前線": "4262",
        "Garena 傳說對決": "4223",
        "召喚圖板 Summons Board": "4098",
        "怪物彈珠": "3703",
        "克魯賽德戰記 Crusaders Quest": "3822",
        "鎖鏈戰記 CHAIN CHRONICLE": "3777",
        "Line遊戲系列討論版": "3705",
        "部落衝突Clash of Clans": "3855",
        "部落衝突：皇室戰爭": "4129",
        "Fate/Grand Order": "1954",
        "日系手遊討論": "3911",
        "七騎士": "4097",
        "神聖之門Divine Gate": "3309",
        "Crash Fever": "4054",
        "國產手遊討論": "3316",
        "知識王 LIVE": "3852",
        "雷霆戰機": "3778",
        "移動冒險": "3853",
        "波可龍迷宮": "3821",
        "其他手遊討論": "3317",
        "百萬亞瑟王": "3576",
        "Love Live! 學園偶像祭": "3704",
        "列王的紛爭 Clash of Kings": "3854",
        "口袋楓之谷": "3935",
        "問答RPG魔法使與黑貓維茲": "3819",
        "梅露可物語 癒術士與鈴之旋律": "3781",
        "勇者前線 Brave Frontier": "3314",
        "公主踢騎士": "3367",
        "魔靈召喚": "3820",
        "DQMSL 勇者鬥惡龍 怪物仙境": "3313",
        "劍與魔法王國 遠古的女神": "3970",
        "時空之門": "4053",
        "動畫(アニメ)改編討論": "1880",
        "魔法科高校劣等生系列": "3779",
        "刀劍神域系列": "3780",
        "私服討論區": "1631",
        "線上遊戲歷史回憶區": "2027",
        "風火之旅": "1698",
        "真‧三國無雙 Online": "1699",
        "極速快車手 Online": "1700",
        "希望 Online (New)": "1675",
        "81keys": "1781",
        "生死格鬥 Online（DOA Online）": "1828",
        "OGame銀河帝國": "1955",
        "百變恰吉": "1980",
        "Web 戀姫†夢想": "3389",
        "蒼天 Online": "1695",
        "光明戰記（Holic2）": "1779",
        "吞食天地 2 Online": "1780",
        "星空幻想 Online﹝Tartaros﹞": "1896",
        "彩虹島 Online（LaTale）": "1811",
        "女神 Online（NS Online）": "1812",
        "王國騎士團 Kingdom Knights": "3506",
        "萬王之王 3": "1783",
        "戰鎚 Online": "1819",
        "飄流幻境": "1953",
        "迷你格鬥Online": "2000",
        "英雄島": "1921",
        "尬舞 Online": "1958",
        "網頁遊戲討論": "1918",
        "Free Style": "1957",
        "末日禁區 AD Online": "2034",
        "TERA": "3303",
        "少女兵器 Web": "3312",
        "聖鬥士星矢 Online": "3574",
        "跑跑卡丁車": "1632",
        "SAO 突襲 Online": "1956",
        "幻月之歌 Online": "2031",
        "達克布拉德（Dark Blood）": "3281",
        "IRIS瞳光 Online": "1977",
        "信喵之野望": "3307",
        "幸福五角Online": "1923",
        "伊達傳說 EDDA Online": "3280",
        "永恆星語Web": "3426",
        "鬼武者魂": "3427",
        "路尼亞戰記": "1787",
        "Heva Online": "1978",
        "百年之戰": "3428",
        "新仙劍": "3699",
        "空中殺陣 ACE Online": "1788",
        "臥龍吟": "3308",
        "戰場女武神 DUEL": "3429",
        "埃米爾物語(ECO系列)": "1696",
        "AIKA": "1826",
        "烈日風暴Online": "1924",
        "百萬人的三國志 Special": "3507",
        "Q群仙傳Online": "1998",
        "狩神伝": "2033",
        "綜合網路遊戲討論區": "1691",
        "幻想戰記(F.E.Zero)": "1697",
        "SD 鋼彈 Online": "1822",
        "萌谷帝國 Online": "2030",
        "Prius 守護之星 Online": "1902",
        "未來啟示錄（SP1）": "1884",
        "七龍珠 Online": "2029",
        "神諭之戰（Runes of Magic）": "1895",
        "劍俠世界": "1952",
        "神鬼奇兵 Online": "1894",
        "火鳳三國 Online": "1904",
        "裂痕RIFT": "3424",
        "龍Online": "1914",
        "Guild Wars 2": "3366",
        "嗜血 DNA Online": "1917",
        "DNF（Dungeon &amp; Fighter）": "3519",
        "中華英雄 Online": "1885",
        "劍狐傳奇": "1903",
        "超魔導大戰Online": "3504",
        "塔羅及占卜": "308",
        "星座心理區": "56",
        "愛情討論區": "42",
        "心情日記區": "40",
        "夢想與理想": "304",
        "小小祈願池": "418",
        "寵物新資訊": "1745",
        "其他寵物討論": "506",
        "狗狗": "1740",
        "貓貓": "1741",
        "爬蟲兩棲": "1744",
        "鼠類/兔類/龍貓類等": "1743",
        "雀鳥": "1742",
        "水族養魚樂": "503",
        "寵物貼圖": "160",
        "NBA籃球大聯盟": "236",
        "♀㊣白痴１族☆♂": "264",
        "ζˋ緣份網絡ˊζ": "282",
        "動漫新資訊": "479",
        "科幻/魔法類討論": "1842",
        "機械人討論區": "440",
        "艦隊收藏(動漫)": "3770",
        "銀魂": "1682",
        "魔法科高中的劣等生": "4239",
        "UQ HOLDER!/悠久之風(赤松健作品系列)": "1688",
        "Code Geass 反叛的魯路修": "1805",
        "魔法少女奈葉": "1803",
        "魔法禁書目錄": "1891",
        "戀愛/校園類討論": "1843",
        "偽戀": "3743",
        "食戟之靈": "4138",
        "政宗君的復仇": "4236",
        "不起眼女主角培育法": "4235",
        "LoveLive!": "4137",
        "出包王女": "1795",
        "京都動畫(京阿尼)系列作品": "4234",
        "Leaf &amp; Key系列作品": "1683",
        "灼眼的夏娜": "1684",
        "旋風管家": "1686",
        "華麗的挑戰 Skip Beat!": "1833",
        "D.C.~初音島~": "1838",
        "藍蘭島漂流記": "1907",
        "只有神知道的世界": "2001",
        "天降之物": "2002",
        "奇幻/冒險類討論": "1844",
        "火影忍者": "433",
        "ONE PIECE 航海王(海賊王)": "434",
        "進擊的巨人": "4237",
        "為美好的世界獻上祝福！": "4238",
        "Fate系列": "3832",
        "惡魔高校D×D": "3833",
        "刀劍神域": "3352",
        "加速世界": "3353",
        "約會大作戰DATE A LIVE": "4139",
        "Re:從零開始的異世界生活": "4140",
        "聖鬥士星矢": "3834",
        "死神": "436",
        "獵人": "441",
        "魔導少年": "1908",
        "七龍珠Z": "471",
        "夏目友人帳": "1834",
        "驅魔少年": "1796",
        "鋼之煉金術師": "437",
        "零之使魔": "1839",
        "狼與辛香料": "2004",
        "家庭教師 Reborn": "1678",
        "少年陰陽師": "1802",
        "推理/靈異類討論": "1889",
        "名偵探柯南": "439",
        "暮蟬悲鳴時": "1798",
        "物語系列": "1890",
        "妖怪少爺": "1930",
        "運動/競技類討論": "1845",
        "新網球王子": "438",
        "第一神拳": "1801",
        "棒球大聯盟": "1797",
        "史上最強弟子兼一": "1909",
        "王牌投手 振臂高揮": "1929",
        "動漫交流綜合討論": "212",
        "CLAMP系列作品": "1689",
        "歐美動漫討論區": "1799",
        "義呆利Axis Power": "1910",
        "二次元偽娘討論區": "1892",
        "萌系動漫討論區": "3977",
        "歡樂惡搞討論區": "1937",
        "燃燒吧！特攝魂討論區": "1935",
        "同人創作討論區": "1936",
        "萌戰討論專區": "1932",
        "綜合動漫討論區": "3500",
        "新番動漫討論區": "1832",
        "動漫輕小說": "1681",
        "動漫討論歷史回憶區": "3733",
        "死亡筆記": "478",
        "光速蒙面俠21": "1804",
        "地獄少女": "1687",
        "守護甜心": "1794",
        "涼宮春日": "1685",
        "Black★Rock Shooter": "1933",
        "結界師": "1793",
        "爆漫王": "1934",
        "學生會長是女僕": "1906",
        "今日是魔王": "1840",
        "絕望先生": "1926",
        "幸運☆星": "1800",
        "吸血鬼騎士": "1925",
        "櫻蘭高校男公關部": "1928",
        "K-ON!輕音少女": "1837",
        "虎與龍": "1841",
        "笨蛋，測驗，召喚獸": "1927",
        "黑執事": "1836",
        "薄櫻鬼": "2005",
        "惡魔奶爸": "2003",
        "聲優園地": "525",
        "動漫精品交流": "526",
        "COSPLAY交流": "432",
        "初音家族Vocaloid": "1835",
        "ACG 動漫隨意貼圖": "16",
        "HCG-H動漫隨意貼圖": "150",
        "漫畫分享版": "1627",
        "漫畫連載貼圖": "481",
        "漫畫下載(上傳空間)": "1628",
        "動畫下載區(上傳空間)": "22",
        "高清動畫下載區(上傳空間)": "2035",
        "中文H漫畫貼圖": "349",
        "動漫音樂下載(上傳空間)": "207",
        "動漫音聲下載區(上傳空間)": "4086",
        "日文H漫畫貼圖": "350",
        "H 漫畫下載區(上傳空間)": "1629",
        "英文H漫畫貼圖": "3208",
        "H 動畫下載區(上傳空間)": "431",
        "動漫套圖下載區(上傳空間)": "4136",
        "動漫下載求檔&amp;問題區": "3707",
        "搞笑貼圖區": "15",
        "網友自拍館": "14",
        "正妹美眉區": "17",
        "型男帥哥區": "520",
        "DIY作品貼圖區": "521",
        "網頁素材區": "307",
        "電腦桌布分享": "359",
        "BL-GL討論": "480",
        "BL-GL貼圖": "482",
        "BL-GL小說": "1676",
        "BL-GL衍生": "523",
        "BL-GL下載": "524",
        "BL-GL短片": "1807",
        "音樂新資訊": "1680",
        " 其他音樂討論": "378",
        "華語樂壇討論": "527",
        "日韓樂壇討論": "528",
        "外語樂壇討論": "529",
        "MP3單曲下載": "530",
        "MP3專輯下載": "203",
        "MP3華語音樂專輯": "1623",
        "MP3日韓音樂專輯": "1625",
        "MP3外語音樂專輯": "1624",
        "MP3純音樂專輯": "380",
        "MTV和KTV下載": "379",
        "樂譜與樂器專區": "204",
        "樂譜下載區": "3755",
        "歌詞分享": "85",
        "會員唱作區": "531",
        "音樂世界求檔&amp;問題區": "4012",
        "港台明星貼圖": "322",
        "日韓明星貼圖": "321",
        "外國明星貼圖": "29",
        "電視節目討論": "444",
        "電台節目討論": "443",
        "電影討論區": "410",
        "電視連續劇討論區": "327",
        "美容討論": "375",
        "化妝討論": "374",
        "減肥瘦身": "279",
        "女性用品": "1734",
        "內衣": "1733",
        "女人心事": "1731",
        "珠寶首飾": "1732",
        "女性健康分享": "1735",
        "指甲彩繪": "1736",
        "髮型討論": "377",
        "鐘錶討論": "451",
        "球鞋討論": "450",
        "潮流服飾討論": "201",
        "牛仔服飾": "1738",
        "錢包手袋": "1737",
        "二手衣飾交易": "532",
        "BT電影下載區": "142",
        "BT限制級電影下載": "1888",
        "BT動漫下載區": "609",
        "BT動漫單集下載": "143",
        "BT動漫全集下載": "472",
        "BT電視連續劇下載區": "610",
        "BT電視連續劇單集下載": "319",
        "BT電視連續劇全集下載": "429",
        "BT綜藝節目下載區": "539",
        "BT體育運動下載區": "540",
        "BT軟件下載區": "58",
        "BT遊戲下載區": "62",
        "BT音樂下載區": "141",
        "BT KTV/MTV下載": "608",
        "BT音樂專輯下載": "541",
        "BT H遊戲下載區": "1630",
        "BT H動漫下載區": "346",
        "BT日韓成人電影": "140",
        "BT歐美成人電影": "345",
        "BT求檔&amp;問題區": "538",
        "GB電影下載(GoGoBox)": "1613",
        "GB電視劇下載(GoGoBox)": "1614",
        "GB動漫下載(GoGoBox)": "1615",
        "GB音樂下載(GoGoBox)": "1620",
        "GB軟件下載(GoGoBox)": "1616",
        "GB遊戲下載(GoGoBox)": "1617",
        "GB H動漫下載(GoGoBox)": "1618",
        "GB H遊戲下載(GoGoBox)": "1621",
        "GB成人電影(GoGoBox)": "1619",
        "CB電影下載 (ClubBox)": "318",
        "CB電視劇下載 (ClubBox)": "1607",
        "CB成人電影 (ClubBox)": "353",
        "GB、CB求檔區": "545",
        "電影下載區(上傳空間)": "205",
        "限制級電影下載區(上傳空間)": "3432",
        "電視劇下載區(上傳空間)": "1716",
        "電視節目下載區(上傳空間)": "3276",
        "軟件下載區(上傳空間)": "18",
        "遊戲下載區(上傳空間)": "26",
        "GalGame遊戲下載區(上傳空間)": "3691",
        "H 遊戲下載區(上傳空間)": "48",
        "電影下載區(迅雷+百度)": "3520",
        "電視劇下載區(迅雷+百度)": "3521",
        "遊戲下載區(迅雷+百度)": "3523",
        "動畫下載區(迅雷+百度)": "3522",
        "電子書下載區": "1982",
        "小說下載區": "3752",
        "FLASH下載區": "36",
        "下載分享求檔&amp;問題區": "537",
        "其他短片": "1772",
        "搞笑短片": "313",
        "動漫短片": "1771",
        "寵物短片": "1755",
        "音樂短片": "1748",
        "寶貝BB短片": "1749",
        "網友自拍短片": "1750",
        "歌星藝人短片": "1754",
        "感人熱淚短片": "1752",
        "汽車機車短片": "1753",
        "體育運動短片": "1751",
        "電腦新資訊": "390",
        "電腦軟體討論": "53",
        "電腦軟體資訊分享": "546",
        "電腦硬體討論": "389",
        "電腦硬體資訊分享": "1815",
        "電腦萌化版": "1964",
        "電腦系統 OS 討論": "391",
        "WINDOWS 分享區": "548",
        "Linux": "547",
        "WINDOWS討論": "298",
        "MAC OS X": "549",
        "電腦程式設計": "392",
        "C &amp; C++ 語言": "550",
        "C# 語言": "553",
        "Visual Basic 語言": "551",
        "PHP 語言": "295",
        "JAVA 語言": "300",
        "CGI 語言": "552",
        "電腦設計技術交流": "393",
        "網頁設計交流": "97",
        "Flash 設計交流": "554",
        "圖像設計及交流": "445",
        "各類下載工具教學": "394",
        "寬頻上網討論": "555",
        "平板電腦/iPad": "556",
        "數碼相機 DC": "557",
        "數碼攝錄機 DV": "558",
        "家庭影音 AV": "559",
        "MP3/耳機": "560",
        "iPod": "561",
        "手提電腦 NoteBook": "562",
        "PPC 交流": "563",
        "其他數碼產品": "95",
        "手機討論": "94",
        "手機選購 (2G + 3G)": "396",
        "手機鈴聲(非MP3)": "398",
        "手機鈴聲(MP3)": "397",
        "手機主題和桌布": "399",
        "手機遊戲": "400",
        "手機影片分享": "401",
        "手機成人影片分享": "1913",
        "手機軟件應用程式": "402",
        "二手交易": "211",
        "拍賣廣場": "376",
        "重要公告區": "13",
        "過時公告區": "305",
        "<b><font color=\"red\">贊助問題區</font></b>": "1608",
        "版主招募區": "43",
        "新手教學區": "45",
        "新手試帖區": "174",
        "活動交流區": "428",
        "伊莉影片區": "1817",
        "伊莉部落格": "1813",
        "伊莉百科區": "1887",
        "投訴及意見": "44",
        "長篇小說交流園地": "1806",
        "出版類言情小說": "1677",
        "拈新閣": "1808",
        "玄幻魔法小說": "1775",
        "武俠修真小說": "1776",
        "科幻偵探小說": "1774",
        "原創言情小說": "1773",
        "都市小說": "1983",
        "輕小說": "1777",
        "其他小說": "430",
        "其他運動討論": "1672",
        "足球討論": "372",
        "單車討論": "1719",
        "籃球討論": "365",
        "田徑討論": "1720",
        "棒球討論": "105",
        "羽毛球討論": "366",
        "乒乓球討論": "452",
        "撞球(桌球)討論": "566",
        "健身運動討論": "371",
        "武術討論": "367",
        "中國武術討論": "368",
        "日韓武術討論": "369",
        "格鬥擂台討論": "370",
        "爬山及遠足討論": "373",
        "瑜伽討論": "567",
        "排球討論": "568",
        "網球/壁球討論": "569",
        "高爾夫球討論": "570",
        "職業摔角討論": "564",
        "潛水討論": "565",
        "時事討論": "1724",
        "明星新聞討論": "412",
        "有趣新聞": "1760",
        "企業家管理交流": "447",
        "金融財經、投資交流": "449",
        "房地產討論": "571",
        "股票討論": "573",
        "基金保險": "1762",
        "外幣投資": "1761",
        "租屋資訊": "1764",
        "環境保護問題探討": "1770",
        "食物衛生及用品安全": "1769",
        "軍事討論": "572",
        "軍事貼圖": "360",
        "上班樂與怒": "303",
        "工作薪酬討論": "467",
        "創業討論區": "446",
        "網路賺錢": "574",
        "各行各業": "575",
        "求職者交流": "1765",
        "兼職工讀交流": "1767",
        "人力銀行(提供職位資訊)": "1768",
        "兩性討論": "156",
        "夜遊討論": "335",
        "成人交友": "336",
        "成人貼圖": "577",
        "日韓美女": "32",
        "歐美少女": "338",
        "本地美女": "339",
        "明星走光": "340",
        "成人電影(上傳空間)": "576",
        "本土電影(上傳空間)": "348",
        "日韓電影(上傳空間)": "2",
        "歐美電影(上傳空間)": "347",
        "成人小說": "6",
        "改編系列": "344",
        "亂倫系列": "341",
        "誘騙系列": "342",
        "強暴系列": "343",
        "變身系列": "475",
        "足球投注": "351",
        "虛擬足球投注站": "606",
        "香港賽馬": "354",
        "賭場討論": "355",
        "麻雀耍樂": "357",
        "撲克交流": "356"
    }
}

function GetForumID(useStatic = true) {
    return useStatic ? GetForumIDStatic() : GetForumIDDynamic()
}

function ByPassR18Authentication() {
    const cookiePrefix = document.cookie.split(';').filter(x => x.includes('lastvisit='))[0].match(/(.*)_lastvisit/)[1]
    document.cookie = `${cookiePrefix}_agree=999;expires=Thu, 30 May 2099 16:26:30 GMT; Domain=.eyny.com`
}

function ReplaceElement(element, fid) {
    if (!exclude.includes(fid)) {
        element.href = `https://www.eyny.com/forum.php?mod=forumdisplay&fid=${fid}&filter=author&orderby=dateline`
    }
}

async function Main() {
    ByPassR18Authentication()

    // get rid of announcement since it may contain link to specific forum
    $('#hd').siblings()[2].innerHTML = ""

    // type1: forum-3522-1.html
    // type2: forum.php?mod=forumdisplay&fid=1831
    // type3: forum.php?view=all
    const type1Regex = /(.*)forum-([0-9]+)-1.html/
    const type2Regex = /(.*)forum.php\?mod=forumdisplay&fid=([0-9]+)/
    const regexPattern = /forum((-.)|(\.php\?((view=all)|(mod=forumdisplay\&fid))))/
    const hrefs = [...document.getElementsByTagName('a')].filter(x => x.href && x.href.match(regexPattern))
    const forumIDStatic = await GetForumID(true)

    hrefs.map(element => {
        if (element.href.slice(-5) === '.html') { // type1
            const fid = element.href.match(type1Regex)[2]
            ReplaceElement(element, fid)
        }
        else if (element.href.slice(-18) === 'forum.php?view=all') { // type 3
            if (element.text in forumIDStatic) {
                const fid = forumIDStatic[element.text]
                ReplaceElement(element, fid)
            }
        }
        else { // type2
            const fid = element.href.match(type2Regex)[2]
            ReplaceElement(element, fid)
        }
    })
}

Main()
